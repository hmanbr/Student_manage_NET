@model G3.Models.Class

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/SubjectManagerLayout.cshtml";
}

@{
    string tab = ViewData["tab"]?.ToString() ?? "general";
    List<Milestone> milestones = ViewData["milestones"] as List<Milestone> ?? new();
}


<ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link @(@tab == "general" ? "active":"")" id="ex1-tab-1" data-mdb-toggle="tab" href="?tab=general"
            role="tab" aria-controls="ex1-tabs-1" aria-selected="true">General</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link @(@tab == "milestones" ? "active":"")" id="ex1-tab-2" data-mdb-toggle="tab"
            href="?tab=milestones" role="tab" aria-controls="ex1-tabs-2" aria-selected="false">Milestone</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link @(@tab == "setting" ? "active":"")" id="ex1-tab-3" data-mdb-toggle="tab" href="?tab=setting"
            role="tab" aria-controls="ex1-tabs-3" aria-selected="false">Setting</a>
    </li>
</ul>

<div class="tab-content" id="ex1-content">
    <div class="tab-pane fade @(tab == "general" ? "show active":"")" id="ex1-tabs-1" role="tabpanel"
        aria-labelledby="ex1-tab-1">
        <div>
            <h4>Class</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Name)
                </dd>
                <dt class="col-sm-2">
                    Subject Code
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Subject.SubjectCode)
                </dd>
                <dt class="col-sm-2">
                    Subject Name
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Subject.Name)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Description)
                </dd>

            </dl>
        </div>
        <div>
            <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a>

        </div>
    </div>
    <div class="tab-pane fade @(tab == "milestones" ? "show active":"")" id="ex1-tabs-2" role="tabpanel"
        aria-labelledby="ex1-tab-2">
        <table class="table">
            <thead>
                <tr>
                    <th> Title </th>
                    <th> Description </th>
                    <th> StartDate </th>
                    <th> EndDate</th>
                    <th> Status </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var milestone in milestones)
                {
                    <tr data-="">
                        <td> @(@milestone.Title)</td>
                        <td> @(@milestone.State)</td>
                        <td> @(@milestone.StartDate.ToString("dd-MM-yyyy")) </td>
                        <td> @(@milestone.DueDate.ToString("dd-MM-yyyy")) </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane fade @(tab == "setting" ? "show active":"")" id="ex1-tabs-3" role="tabpanel"
        aria-labelledby="ex1-tab-3">
        Tab 3 content
    </div>

    <a asp-action="Index">Back to List</a>

</div>
